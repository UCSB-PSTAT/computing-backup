
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Dev Containers with VSCode</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="dev-container-vscode"
                  title="Dev Containers with VSCode"
                  environment="web"
                  feedback-link="https://github.com/UCSB-PSTAT/wiki/issues">
    
      <google-codelab-step label="Introduction" duration="0">
        <p class="image-container"><img style="width: 624.00px" src="img/29d65fac866e4cca.gif"></p>
<h2 is-upgraded>Prereqs</h2>
<ul>
<li>Completion of SSH Setup (including GitHub)</li>
<li>Latest version of <a href="https://git-scm.com/downloads" target="_blank">Git</a></li>
<li>A <a href="https://github.com/" target="_blank">GitHub</a> account</li>
<li><a href="https://code.visualstudio.com/" target="_blank">VS Code</a> text editor</li>
</ul>
<h2 is-upgraded>Requirements for local </h2>
<ul>
<li>Latest version of <a href="https://www.docker.com/" target="_blank">Docker</a> (temp link)</li>
</ul>
<h2 is-upgraded>Requirements for remote</h2>
<ul>
<li>Setup of the <a href="https://www.it.ucsb.edu/ivanti-secure-access-campus-vpn/get-connected-campus-vpn" target="_blank">UCSB VPN</a> for connecting to PSTAT servers</li>
<li>SSH Setup (key generation and GitHub) on the remote server</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Start Up: VS Code Extensions" duration="0">
        <p>First, we need to install some necessary extensions on VS Code enable features for dev container and remote development management.  You will need the following extensions:</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack" target="_blank">Remote Development Pack</a> - SSH + Dev Containers</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter" target="_blank">Jupyter</a> - Notebook support</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python" target="_blank">Python</a> - Intellisense, linting, debugging</li>
</ul>
<p>You can install these by following the links and clicking &#34;Install&#34; on your browser or you can look them up on VS Code Extension search (using <code>ctrl</code>/⌘ + <code>shift</code> + <code>x</code> shortcut).</p>


      </google-codelab-step>
    
      <google-codelab-step label="Start Up (Optional): Connect to remote server" duration="0">
        <p>If you are planning to run your code via a remote computing server (PSTAT Denali, NSF Jetstream, AWS, etc.), you will first need to connect to your remote server.  With our VS Code extensions, this is made simple:</p>
<ol type="1" start="1">
<li>Click on the <strong>bottom right button</strong> to &#34;Open a Remote Window&#34;.  This will launch the VS Code command palette for remote connections:</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/e7b78f90ed714322.png"></p>
<ol type="1" start="2">
<li>Select &#34;Connect Current Window to Host...&#34; option.</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/f4f8707f51fa6425.png"></p>
<ol type="1" start="3">
<li>From here select the host you wish to connect to.  If the remote host that you want to connect to does not appear in the options, use the &#34;Add New SSH Host...&#34; option and follow the prompts to set one up (More information about different server options can be found in the Remote Servers documentation entry).</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/d2bcaf04bcc876db.png"></p>
<ol type="1" start="4">
<li>From here, VS Code will automatically connect to the host for you.  If this is your first time connecting to any remote server, it may take a few seconds for VS Code to install configurations in the background.  You may also be prompted about the type of operating system your server uses.  Please refer to your server&#39;s configuration for this information.  Once the set up is complete you will be greeted with a similar window:</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/a9590907d394b925.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Start Up: Cloning and running initial dev container" duration="0">
        <aside class="warning"><p><strong>Remote server users:</strong> If you&#39;re developing using a remote server, make sure that you have gone through the SSH Setup to generate a key on your remote server and add it to your GitHub.</p>
</aside>
<p>Now we are ready to clone and run an initial container setup from GitHub to use both locally and remotely.  </p>
<ol type="1" start="1">
<li>Using the sidebar, click on &#34;Source Control&#34; button (or using keyboard shortcut <code>ctrl</code>/⌘ + <code>shift</code> + <code>g</code>):</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/da8d4a116452b4a8.png"></p>
<ol type="1" start="2">
<li>Click on Clone Repository.  This will open a Command Palette with an option to provide a GitHub URL.  </li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/9151622b8646dec1.png"></p>
<ol type="1" start="3">
<li>For an initial dev container setup for Python/R development go to <a href="https://github.com/syoh/jupyter-rootless-docker" target="_blank">https://github.com/syoh/jupyter-rootless-docker</a> (make sure you are signed in).  Click on &#34;Code&#34; then &#34;SSH&#34; and copy the link:</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/93db57149fe46766.png"></p>
<ol type="1" start="4">
<li>Select the &#34;Clone from GitHub&#34; option.  Allow the extension to sign in using GitHub.</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/d049dedfa8e4a0f2.png"></p>
<ol type="1" start="5">
<li>Once GitHub sign-in is complete, paste the GitHub link into the command palette:</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/dc69b3ea05ba713b.png"></p>
<ol type="1" start="6">
<li>You will be asked to choose a location to clone the repository into.  On a local machine this will open your file explorer.  On a remote server it will open another command palette with your current working directory.  Depending on how you wish to setup your directories, you may need to create additional folders as you see fit.</li>
<li>Once cloned, you will be prompted on whether you wish to open the cloned repository.  Select &#34;Open&#34;:</li>
</ol>
<p class="image-container"><img style="width: 347.20px" src="img/6c7aa050f48dd5a1.png"></p>
<ol type="1" start="8">
<li>Once the directory is open, you will have a dialogue box pop up to &#34;Reopen in Container&#34;.  Click this option and wait for the setup to complete.  This will take a little bit of time so hang tight!  You can press the &#34;Show log&#34; dialogue to track the progress.</li>
</ol>
<p class="image-container"><img style="width: 610.00px" src="img/c350345ed92e9a65.png"></p>
<p class="image-container"><img style="width: 378.50px" src="img/f38663f7cf553acb.png"></p>
<aside class="warning"><p><strong>Note:</strong> If you do not see the dialogue box above, open the command palette using <code>ctrl</code>/⌘ + <code>shift</code> + <code>p</code> or <code>F1</code> and type: &#34;Dev Containers: Rebuild and Reopen in Container&#34;.  Select this option and let the dev container build.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Completion" duration="0">
        <aside class="special"><p>You are done!  You will be greeted with the following screen (Notice the &#34;Dev Container&#34; status on the bottom left):</p>
<p class="image-container"><img style="width: 610.00px" src="img/33619a57a8456a2.png"></p>
</aside>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
